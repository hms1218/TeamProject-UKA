import { createContext, useContext, useState } from 'react';

const ChatContext = createContext();
const now = new Date();

const getRandomInt = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;

// 날짜 포맷 함수
const formatDate = (date) => {
    const d = new Date(date);
    const year = String(d.getFullYear()).slice(2);
    const month = String(d.getMonth() + 1).padStart(2, '0');
    const day = String(d.getDate()).padStart(2, '0');

    return `${year}.${month}.${day}`;
};

const generatePost = (id, title, author, content, minutesAgo, isSecret = false) => {
    const date = new Date(now.getTime() - 1000 * 60 * minutesAgo);

    return{
        id,
        title,
        author,
        comment: getRandomInt(0, 1000),
        views: getRandomInt(1, 20000),
        likes: getRandomInt(0, 5000),
        content,
        isSecret,
        ...(isSecret && { password: "1234" }),
        // createdAt: new Date(now.getTime() - 1000 * 60 * minutesAgo)
        createdAt: formatDate(date),
    }
};

const initialNotice = [
    generatePost(1, '최신 공지사항1', '관리자12345678910', '공지사항1', 5000),
    generatePost(2, '최신 공지사항2', '관리자일이삼사오육', '공지사항2', 4),
    generatePost(3, '최신 공지사항3', '관리자', '공지사항3', 15),
    generatePost(4, '최신 공지사항4', '관리자', '공지사항4', 60),
    generatePost(5, '최신 공지사항5', '관리자', '공지사항5', 75),
    generatePost(6, '최신 공지사항6', '관리자', '공지사항6', 9),
];

const initialChatList = [
    generatePost(1, '속닥1', '속닥맨1', '자유게시판1', 5),
    generatePost(2, '속닥2', '속닥맨2', '자유게시판2', 7),
    generatePost(3, '속닥3', '속닥맨3', '자유게시판3', 15),
    generatePost(4, '속닥4', '속닥맨3', '자유게시판4', 88, true),
    generatePost(5, '속닥5', '속닥맨3', '자유게시판5', 10),
    generatePost(6, '속닥6', '속닥맨3', '자유게시판6', 80, true),
    generatePost(7, '속닥7', '속닥맨3', '자유게시판7', 39),
    generatePost(8, '속닥8', '속닥맨3', '자유게시판8', 200, true),
    generatePost(9, '속닥9', '속닥맨3', '자유게시판9', 104),
    generatePost(10, '속닥10', '속닥맨3', '자유게시판10', 51),
    generatePost(11, '속닥11', '속닥맨3', '자유게시판11', 95),
    generatePost(1, '속닥1', '속닥맨1', '자유게시판1', 5),
    generatePost(2, '속닥2', '속닥맨2', '자유게시판2', 7),
    generatePost(3, '속닥3', '속닥맨3', '자유게시판3', 15),
    generatePost(4, '속닥4', '속닥맨3', '자유게시판4', 88, true),
    generatePost(5, '속닥5', '속닥맨3', '자유게시판5', 10),
    generatePost(6, '속닥6', '속닥맨3', '자유게시판6', 80, true),
    generatePost(7, '속닥7', '속닥맨3', '자유게시판7', 39),
    generatePost(8, '속닥8', '속닥맨3', '자유게시판8', 200, true),
    generatePost(9, '속닥9', '속닥맨3', '자유게시판9', 104),
    generatePost(10, '속닥10', '속닥맨3', '자유게시판10', 51),
    generatePost(11, '속닥11', '속닥맨3', '자유게시판11', 95),
    generatePost(1, '속닥1', '속닥맨1', '자유게시판1', 5),
    generatePost(2, '속닥2', '속닥맨2', '자유게시판2', 7),
    generatePost(3, '속닥3', '속닥맨3', '자유게시판3', 15),
    generatePost(4, '속닥4', '속닥맨3', '자유게시판4', 88, true),
    generatePost(5, '속닥5', '속닥맨3', '자유게시판5', 10),
    generatePost(6, '속닥6', '속닥맨3', '자유게시판6', 80, true),
    generatePost(7, '속닥7', '속닥맨3', '자유게시판7', 39),
    generatePost(8, '속닥8', '속닥맨3', '자유게시판8', 200, true),
    generatePost(9, '속닥9', '속닥맨3', '자유게시판9', 104),
    generatePost(10, '속닥10', '속닥맨3', '자유게시판10', 51),
    generatePost(11, '속닥11', '속닥맨3', '자유게시판11', 95),
    generatePost(1, '속닥1', '속닥맨1', '자유게시판1', 5),
    generatePost(2, '속닥2', '속닥맨2', '자유게시판2', 7),
    generatePost(3, '속닥3', '속닥맨3', '자유게시판3', 15),
    generatePost(4, '속닥4', '속닥맨3', '자유게시판4', 88, true),
    generatePost(5, '속닥5', '속닥맨3', '자유게시판5', 10),
    generatePost(6, '속닥6', '속닥맨3', '자유게시판6', 80, true),
    generatePost(7, '속닥7', '속닥맨3', '자유게시판7', 39),
    generatePost(8, '속닥8', '속닥맨3', '자유게시판8', 200, true),
    generatePost(9, '속닥9', '속닥맨3', '자유게시판9', 104),
    generatePost(10, '속닥10', '속닥맨3', '자유게시판10', 51),
    generatePost(11, '속닥11', '속닥맨3', '자유게시판11', 95),
    generatePost(1, '속닥1', '속닥맨1', '자유게시판1', 5),
    generatePost(2, '속닥2', '속닥맨2', '자유게시판2', 7),
    generatePost(3, '속닥3', '속닥맨3', '자유게시판3', 15),
    generatePost(4, '속닥4', '속닥맨3', '자유게시판4', 88, true),
    generatePost(5, '속닥5', '속닥맨3', '자유게시판5', 10),
    generatePost(6, '속닥6', '속닥맨3', '자유게시판6', 80, true),
    generatePost(7, '속닥7', '속닥맨3', '자유게시판7', 39),
    generatePost(8, '속닥8', '속닥맨3', '자유게시판8', 200, true),
    generatePost(9, '속닥9', '속닥맨3', '자유게시판9', 104),
    generatePost(10, '속닥10', '속닥맨3', '자유게시판10', 51),
    generatePost(11, '속닥11', '속닥맨3', '자유게시판11', 95),
    generatePost(1, '속닥1', '속닥맨1', '자유게시판1', 5),
    generatePost(2, '속닥2', '속닥맨2', '자유게시판2', 7),
    generatePost(3, '속닥3', '속닥맨3', '자유게시판3', 15),
    generatePost(4, '속닥4', '속닥맨3', '자유게시판4', 88, true),
    generatePost(5, '속닥5', '속닥맨3', '자유게시판5', 10),
    generatePost(6, '속닥6', '속닥맨3', '자유게시판6', 80, true),
    generatePost(7, '속닥7', '속닥맨3', '자유게시판7', 39),
    generatePost(8, '속닥8', '속닥맨3', '자유게시판8', 200, true),
    generatePost(9, '속닥9', '속닥맨3', '자유게시판9', 104),
    generatePost(10, '속닥10', '속닥맨3', '자유게시판10', 51),
    generatePost(11, '속닥11', '속닥맨3', '자유게시판11', 95),
    generatePost(1, '속닥1', '속닥맨1', '자유게시판1', 5),
    generatePost(2, '속닥2', '속닥맨2', '자유게시판2', 7),
    generatePost(3, '속닥3', '속닥맨3', '자유게시판3', 15),
    generatePost(4, '속닥4', '속닥맨3', '자유게시판4', 88, true),
    generatePost(5, '속닥5', '속닥맨3', '자유게시판5', 10),
    generatePost(6, '속닥6', '속닥맨3', '자유게시판6', 80, true),
    generatePost(7, '속닥7', '속닥맨3', '자유게시판7', 39),
    generatePost(8, '속닥8', '속닥맨3', '자유게시판8', 200, true),
    generatePost(9, '속닥9', '속닥맨3', '자유게시판9', 104),
    generatePost(10, '속닥10', '속닥맨3', '자유게시판10', 51),
    generatePost(11, '속닥11', '속닥맨3', '자유게시판11', 95),
    generatePost(1, '속닥1', '속닥맨1', '자유게시판1', 5),
    generatePost(2, '속닥2', '속닥맨2', '자유게시판2', 7),
    generatePost(3, '속닥3', '속닥맨3', '자유게시판3', 15),
    generatePost(4, '속닥4', '속닥맨3', '자유게시판4', 88, true),
    generatePost(5, '속닥5', '속닥맨3', '자유게시판5', 10),
    generatePost(6, '속닥6', '속닥맨3', '자유게시판6', 80, true),
    generatePost(7, '속닥7', '속닥맨3', '자유게시판7', 39),
    generatePost(8, '속닥8', '속닥맨3', '자유게시판8', 200, true),
    generatePost(9, '속닥9', '속닥맨3', '자유게시판9', 104),
    generatePost(10, '속닥10', '속닥맨3', '자유게시판10', 51),
    generatePost(11, '속닥11', '속닥맨3', '자유게시판11', 95),
    generatePost(1, '속닥1', '속닥맨1', '자유게시판1', 5),
    generatePost(2, '속닥2', '속닥맨2', '자유게시판2', 7),
    generatePost(3, '속닥3', '속닥맨3', '자유게시판3', 15),
    generatePost(4, '속닥4', '속닥맨3', '자유게시판4', 88, true),
    generatePost(5, '속닥5', '속닥맨3', '자유게시판5', 10),
    generatePost(6, '속닥6', '속닥맨3', '자유게시판6', 80, true),
    generatePost(7, '속닥7', '속닥맨3', '자유게시판7', 39),
    generatePost(8, '속닥8', '속닥맨3', '자유게시판8', 200, true),
    generatePost(9, '속닥9', '속닥맨3', '자유게시판9', 104),
    generatePost(10, '속닥10', '속닥맨3', '자유게시판10', 51),
    generatePost(11, '속닥11', '속닥맨3', '자유게시판11', 95),
]

const initialReviewList = [
    generatePost(1, '입양1', '후기맨1', '입양후기1', 9),
    generatePost(2, '입양2', '후기맨2', '입양후기2', 4),
    generatePost(3, '입양3', '후기맨3', '입양후기3', 5, true),
    generatePost(4, '입양4', '후기맨3', '입양후기4', 36),
    generatePost(5, '입양5', '후기맨3', '입양후기5', 39),
    generatePost(6, '입양6', '후기맨3', '입양후기6', 3, true),
    generatePost(7, '입양7', '후기맨3', '입양후기7', 19),
    generatePost(8, '입양8', '후기맨3', '입양후기8', 306),
    generatePost(9, '입양9', '후기맨3', '입양후기9', 22, true),
    generatePost(10, '입양10', '후기맨3', '입양후기10', 99),
    generatePost(11, '입양11', '후기맨3', '입양후기11', 103, true),
    generatePost(1, '입양1', '후기맨1', '입양후기1', 9),
    generatePost(2, '입양2', '후기맨2', '입양후기2', 4),
    generatePost(3, '입양3', '후기맨3', '입양후기3', 5, true),
    generatePost(4, '입양4', '후기맨3', '입양후기4', 36),
    generatePost(5, '입양5', '후기맨3', '입양후기5', 39),
    generatePost(6, '입양6', '후기맨3', '입양후기6', 3, true),
    generatePost(7, '입양7', '후기맨3', '입양후기7', 19),
    generatePost(8, '입양8', '후기맨3', '입양후기8', 306),
    generatePost(9, '입양9', '후기맨3', '입양후기9', 22, true),
    generatePost(10, '입양10', '후기맨3', '입양후기10', 99),
    generatePost(11, '입양11', '후기맨3', '입양후기11', 103, true),
    generatePost(1, '입양1', '후기맨1', '입양후기1', 9),
    generatePost(2, '입양2', '후기맨2', '입양후기2', 4),
    generatePost(3, '입양3', '후기맨3', '입양후기3', 5, true),
    generatePost(4, '입양4', '후기맨3', '입양후기4', 36),
    generatePost(5, '입양5', '후기맨3', '입양후기5', 39),
    generatePost(6, '입양6', '후기맨3', '입양후기6', 3, true),
    generatePost(7, '입양7', '후기맨3', '입양후기7', 19),
    generatePost(8, '입양8', '후기맨3', '입양후기8', 306),
    generatePost(9, '입양9', '후기맨3', '입양후기9', 22, true),
    generatePost(10, '입양10', '후기맨3', '입양후기10', 99),
    generatePost(11, '입양11', '후기맨3', '입양후기11', 103, true),
    generatePost(1, '입양1', '후기맨1', '입양후기1', 9),
    generatePost(2, '입양2', '후기맨2', '입양후기2', 4),
    generatePost(3, '입양3', '후기맨3', '입양후기3', 5, true),
    generatePost(4, '입양4', '후기맨3', '입양후기4', 36),
    generatePost(5, '입양5', '후기맨3', '입양후기5', 39),
    generatePost(6, '입양6', '후기맨3', '입양후기6', 3, true),
    generatePost(7, '입양7', '후기맨3', '입양후기7', 19),
    generatePost(8, '입양8', '후기맨3', '입양후기8', 306),
    generatePost(9, '입양9', '후기맨3', '입양후기9', 22, true),
    generatePost(10, '입양10', '후기맨3', '입양후기10', 99),
    generatePost(11, '입양11', '후기맨3', '입양후기11', 103, true),
    generatePost(1, '입양1', '후기맨1', '입양후기1', 9),
    generatePost(2, '입양2', '후기맨2', '입양후기2', 4),
    generatePost(3, '입양3', '후기맨3', '입양후기3', 5, true),
    generatePost(4, '입양4', '후기맨3', '입양후기4', 36),
    generatePost(5, '입양5', '후기맨3', '입양후기5', 39),
    generatePost(6, '입양6', '후기맨3', '입양후기6', 3, true),
    generatePost(7, '입양7', '후기맨3', '입양후기7', 19),
    generatePost(8, '입양8', '후기맨3', '입양후기8', 306),
    generatePost(9, '입양9', '후기맨3', '입양후기9', 22, true),
    generatePost(10, '입양10', '후기맨3', '입양후기10', 99),
    generatePost(11, '입양11', '후기맨3', '입양후기11', 103, true),
    generatePost(1, '입양1', '후기맨1', '입양후기1', 9),
    generatePost(2, '입양2', '후기맨2', '입양후기2', 4),
    generatePost(3, '입양3', '후기맨3', '입양후기3', 5, true),
    generatePost(4, '입양4', '후기맨3', '입양후기4', 36),
    generatePost(5, '입양5', '후기맨3', '입양후기5', 39),
    generatePost(6, '입양6', '후기맨3', '입양후기6', 3, true),
    generatePost(7, '입양7', '후기맨3', '입양후기7', 19),
    generatePost(8, '입양8', '후기맨3', '입양후기8', 306),
    generatePost(9, '입양9', '후기맨3', '입양후기9', 22, true),
    generatePost(10, '입양10', '후기맨3', '입양후기10', 99),
    generatePost(11, '입양11', '후기맨3', '입양후기11', 103, true),
    generatePost(1, '입양1', '후기맨1', '입양후기1', 9),
    generatePost(2, '입양2', '후기맨2', '입양후기2', 4),
    generatePost(3, '입양3', '후기맨3', '입양후기3', 5, true),
    generatePost(4, '입양4', '후기맨3', '입양후기4', 36),
    generatePost(5, '입양5', '후기맨3', '입양후기5', 39),
    generatePost(6, '입양6', '후기맨3', '입양후기6', 3, true),
    generatePost(7, '입양7', '후기맨3', '입양후기7', 19),
    generatePost(8, '입양8', '후기맨3', '입양후기8', 306),
    generatePost(9, '입양9', '후기맨3', '입양후기9', 22, true),
    generatePost(10, '입양10', '후기맨3', '입양후기10', 99),
    generatePost(11, '입양11', '후기맨3', '입양후기11', 103, true),
    generatePost(1, '입양1', '후기맨1', '입양후기1', 9),
    generatePost(2, '입양2', '후기맨2', '입양후기2', 4),
    generatePost(3, '입양3', '후기맨3', '입양후기3', 5, true),
    generatePost(4, '입양4', '후기맨3', '입양후기4', 36),
    generatePost(5, '입양5', '후기맨3', '입양후기5', 39),
    generatePost(6, '입양6', '후기맨3', '입양후기6', 3, true),
    generatePost(7, '입양7', '후기맨3', '입양후기7', 19),
    generatePost(8, '입양8', '후기맨3', '입양후기8', 306),
    generatePost(9, '입양9', '후기맨3', '입양후기9', 22, true),
    generatePost(10, '입양10', '후기맨3', '입양후기10', 99),
    generatePost(11, '입양11', '후기맨3', '입양후기11', 103, true),
    generatePost(1, '입양1', '후기맨1', '입양후기1', 9),
    generatePost(2, '입양2', '후기맨2', '입양후기2', 4),
    generatePost(3, '입양3', '후기맨3', '입양후기3', 5, true),
    generatePost(4, '입양4', '후기맨3', '입양후기4', 36),
    generatePost(5, '입양5', '후기맨3', '입양후기5', 39),
    generatePost(6, '입양6', '후기맨3', '입양후기6', 3, true),
    generatePost(7, '입양7', '후기맨3', '입양후기7', 19),
    generatePost(8, '입양8', '후기맨3', '입양후기8', 306),
    generatePost(9, '입양9', '후기맨3', '입양후기9', 22, true),
    generatePost(10, '입양10', '후기맨3', '입양후기10', 99),
    generatePost(11, '입양11', '후기맨3', '입양후기11', 103, true),
]

export const ChatProvider = ({ children }) => {
    const [notice, setNotice] = useState(initialNotice);
    const [chats, setChats] = useState(initialChatList);
    const [review, setReview] = useState(initialReviewList);
    return <ChatContext.Provider value={{ notice, setNotice, chats, setChats, review, setReview }}>{children}</ChatContext.Provider>;
};

export const useChat = () => useContext(ChatContext);
